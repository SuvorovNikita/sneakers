{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.js","components/Info.jsx","components/Drawer/index.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","props","className","to","width","height","src","alt","onClick","onClickCart","Info","image","title","description","setCartOpened","class","Drawer","onClose","onRemove","items","opened","useState","isOrderCompleted","setIsOrderCompleted","orderID","setOrderID","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","Promise","resolve","setTimeout","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imgUrl","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","value","placeholder","filteredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","setIsLoding","useEffect","get","prev","alert","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","message","fetchData","find","Number","error","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,QAAU,wBAAwB,eAAiB,+BAA+B,OAAS,uBAAuB,MAAQ,wB,mBCA5ID,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,SAAW,yB,qLCGlEC,EAFIC,IAAMC,cAAc,ICC1BC,EAAU,WACrB,MAAoCF,IAAMG,WAAWJ,GAA7CK,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,aACbC,EAAaF,EAAUG,QAAO,SAACC,EAAKC,GAAN,OAAcA,EAAIC,MAAQF,IAAK,GACnE,MAAO,CAAEJ,YAAWC,eAAcC,e,OC6BrBK,MA/Bf,SAAgBC,GACd,IAAQN,EAAeJ,IAAfI,WACR,OACE,yBAAQO,UAAU,2CAAlB,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,sBAAKD,UAAU,sBAAf,UACE,qBAAKE,MAAO,GAAIC,OAAQ,GAAIC,IAAI,eAAeC,IAAI,SACnD,gCACE,oBAAIL,UAAU,iBAAd,sBACA,mBAAGA,UAAU,YAAb,4JAIN,qBAAIA,UAAU,SAAd,UACE,qBAAIM,QAASP,EAAMQ,YAAaP,UAAU,aAA1C,UACE,qBAAKE,MAAO,GAAIC,OAAQ,GAAIC,IAAI,eAAeC,IAAI,+CACnD,iCAAOZ,EAAP,6BAEF,oBAAIO,UAAU,aAAd,SACE,cAAC,IAAD,CAAMC,GAAG,aAAT,SACE,qBAAKC,MAAO,GAAIC,OAAQ,GAAIC,IAAI,gBAAgBC,IAAI,yDAGxD,cAAC,IAAD,CAAMJ,GAAG,UAAT,SACE,qBAAKC,MAAO,GAAIC,OAAQ,GAAIC,IAAI,eAAeC,IAAI,sFCV9CG,EAfF,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YACpBC,EAAkBzB,IAAMG,WAAWJ,GAAnC0B,cACR,OACE,sBAAKC,MAAM,gEAAX,UACE,qBAAKA,MAAM,QAAQX,MAAM,QAAQE,IAAKK,EAAOJ,IAAI,UACjD,6BAAKK,IACL,mBAAGG,MAAM,YAAT,SAAsBF,IACtB,yBAAQL,QAAS,kBAAMM,GAAc,IAAQC,MAAM,cAAnD,UACE,qBAAKT,IAAI,gBAAgBC,IAAI,UAD/B,+F,iBC2FSS,MA3Ff,YAAoE,IAAlDC,EAAiD,EAAjDA,QAASC,EAAwC,EAAxCA,SAAwC,IAA9BC,aAA8B,MAAtB,GAAsB,MAAlBC,cAAkB,SACjE,EAAgD7B,IAAxCE,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,aAAcC,EAAjC,EAAiCA,WACjC,EAAgDN,IAAMgC,UAAS,GAA/D,mBAAOC,EAAP,KAAyBC,EAAzB,KACA,EAA8BlC,IAAMgC,SAAS,MAA7C,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCpC,IAAMgC,UAAS,GAAjD,mBAAOK,EAAP,KAAkBC,EAAlB,KAEMC,EAAY,uCAAG,kCAAAC,EAAA,sEAEjBF,GAAa,GAFI,SAGMG,IAAMC,KAAK,qDAAsD,CACtFZ,MAAO1B,IAJQ,gBAGTuC,EAHS,EAGTA,KAIRP,EAAWO,EAAKC,IAChBV,GAAoB,GACpB7B,EAAa,IAEJwC,EAAI,EAXI,aAWDA,EAAIzC,EAAU0C,QAXb,wBAYTC,EAAO3C,EAAUyC,GAZR,UAaTJ,IAAMO,OAAO,oDAAsDD,EAAKH,IAb/D,yBARH,IAAIK,SAAQ,SAACC,GAAD,OAAaC,WAAWD,EAAS,QAQ1C,QAWqBL,IAXrB,kFAiBnBP,GAAa,GAjBM,0DAAH,qDAoBlB,OACE,qBAAKzB,UAAS,UAAKuC,IAAOC,QAAZ,YAAuBtB,EAASqB,IAAOE,eAAiB,IAAtE,SACE,sBAAKzC,UAAWuC,IAAOG,OAAvB,UACE,qBAAI1C,UAAU,+BAAd,uDAEE,qBAAKM,QAASS,EAASf,UAAU,iBAAiBI,IAAI,qBAAqBC,IAAI,cAGhFY,EAAMgB,OAAS,EACd,sBAAKjC,UAAU,0BAAf,UACE,qBAAKA,UAAU,aAAf,SACGiB,EAAM0B,KAAI,SAAC/C,GAAD,OACT,8BACE,sBAAkBI,UAAU,qCAA5B,UACE,qBACE4C,MAAO,CAAEC,gBAAgB,OAAD,OAASjD,EAAIkD,OAAb,MACxB9C,UAAU,gBACZ,sBAAKA,UAAU,aAAf,UACE,mBAAGA,UAAU,OAAb,SAAqBJ,EAAIc,QACzB,4BAAId,EAAIC,WAEV,qBACES,QAAS,kBAAMU,EAASpB,EAAImC,KAC5B/B,UAAU,YACVI,IAAI,qBACJC,IAAI,aAZET,EAAImC,WAkBpB,sBAAK/B,UAAU,iBAAf,UACE,+BACE,qBAAIA,UAAU,SAAd,UACE,mEACA,wBACA,8BAAIP,EAAJ,8BAEF,qBAAIO,UAAU,SAAd,UACE,sEACA,wBACA,8BAAKP,EAAa,IAAO,EAAzB,gCAGJ,yBAAQsD,SAAUvB,EAAWlB,QAASoB,EAAc1B,UAAU,cAA9D,6FACiB,qBAAKI,IAAI,gBAAgBC,IAAI,mBAKlD,cAAC,EAAD,CACEK,MAAOU,EAAmB,4EAAkB,kFAC5CT,YACES,EAAgB,6DACEE,EADF,2NAEZ,6SAENb,MAAOW,EAAmB,yBAA2B,6B,iCClBlD4B,MApEf,YASI,IARFjB,EAQC,EARDA,GACAkB,EAOC,EAPDA,WACAC,EAMC,EANDA,OACAxC,EAKC,EALDA,MACAoC,EAIC,EAJDA,OACAjD,EAGC,EAHDA,MAGC,IAFDsD,iBAEC,aADDC,eACC,SACOC,EAAgBlE,IAAMG,WAAWJ,GAAjCmE,YACR,EAAoClE,IAAMgC,SAASgC,GAAnD,mBAAOG,EAAP,KAAmBC,EAAnB,KACM3D,EAAM,CAAEmC,KAAIyB,SAAUzB,EAAIrB,QAAOoC,SAAQjD,SAW/C,OACE,qBAAKG,UAAWuC,IAAOkB,KAAvB,SACGL,EACC,eAAC,IAAD,CACEM,MAAO,EACPxD,MAAO,IACPC,OAAQ,IACRwD,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,UANlB,UAOE,sBAAMC,EAAE,IAAIC,EAAE,IAAIC,GAAG,KAAKC,GAAG,KAAK/D,MAAM,MAAMC,OAAO,OACrD,sBAAM2D,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAI/D,MAAM,MAAMC,OAAO,OACpD,sBAAM2D,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAI/D,MAAM,KAAKC,OAAO,OACpD,sBAAM2D,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAI/D,MAAM,KAAKC,OAAO,OACpD,sBAAM2D,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAI/D,MAAM,KAAKC,OAAO,UAGxD,qCACG8C,GACC,qBAAKjD,UAAWuC,IAAO2B,SAAU5D,QAxBnB,WACtB2C,EAAWrD,GACX2D,GAAeD,IAsBP,SACE,qBAAKlD,IAAKkD,EAAa,gBAAkB,wBAAyBjD,IAAI,WAG1E,qBAAKH,MAAM,OAAOC,OAAQ,IAAKC,IAAK0C,EAAQzC,IAAI,MAChD,6BAAKK,IACL,sBAAKV,UAAU,sCAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,4DACA,8BAAIH,EAAJ,6BAEDqD,GACC,qBACElD,UAAWuC,IAAO4B,KAClB7D,QA1CM,WAClB4C,EAAOtD,IA0CKQ,IAAKiD,EAAYtB,GAAM,qBAAuB,mBAC9C1B,IAAI,kBChBL+D,MA7Cf,YAQI,IAPFnD,EAOC,EAPDA,MACAoD,EAMC,EANDA,YACAC,EAKC,EALDA,eACAC,EAIC,EAJDA,oBACAC,EAGC,EAHDA,gBACAC,EAEC,EAFDA,YACAjD,EACC,EADDA,UAgBA,OACE,sBAAKxB,UAAU,gBAAf,UACE,sBAAKA,UAAU,4CAAf,UACE,6BAAKqE,EAAW,mGAAyBA,EAAzB,KAA0C,wEAC1D,sBAAKrE,UAAU,sBAAf,UACE,qBAAKI,IAAI,iBAAiBC,IAAI,WAC7BgE,GACC,qBACE/D,QAAS,kBAAMgE,EAAe,KAC9BtE,UAAU,QACVI,IAAI,qBACJC,IAAI,UAGR,uBAAOqE,SAAUH,EAAqBI,MAAON,EAAaO,YAAY,4CAG1E,qBAAK5E,UAAU,mBAAf,SA/BgB,WAClB,IAAM6E,EAAgB5D,EAAM6D,QAAO,SAAC5C,GAAD,OACjCA,EAAKxB,MAAMqE,cAAcC,SAASX,EAAYU,kBAEhD,OAAQvD,EAAS,YAAOyD,MAAM,IAAMJ,GAAelC,KAAI,SAACT,EAAMgD,GAAP,OACrD,cAAC,EAAD,aAEEhC,OAAQ,SAACtD,GAAD,OAAS6E,EAAY7E,IAC7BqD,WAAY,SAACrD,GAAD,OAAS4E,EAAgB5E,IACrCwD,QAAS5B,GACLU,GAJCgD,MAyB4BC,SCxB1BC,MAhBf,YAAyC,IAApBZ,EAAmB,EAAnBA,gBACXa,EAAclG,IAAMG,WAAWJ,GAA/BmG,UACR,OACE,sBAAKrF,UAAU,gBAAf,UACE,qBAAKA,UAAU,4CAAf,SACE,uGAEF,qBAAKA,UAAU,mBAAf,SACGqF,EAAU1C,KAAI,SAACT,EAAMgD,GAAP,OACb,cAAC,EAAD,aAAkB/B,WAAW,EAAMF,WAAYuB,GAAqBtC,GAAzDgD,YC6BNI,MArCf,WACE,MAA4BnG,IAAMgC,SAAS,IAA3C,mBAAOoE,EAAP,KAAeC,EAAf,KACQhB,EAAoBrF,IAAMG,WAAWJ,GAArCsF,gBACR,EAAiCrF,IAAMgC,UAAS,GAAhD,mBAAOK,EAAP,KAAkBiE,EAAlB,KAaA,OAZAtG,IAAMuG,WAAU,WACd,sBAAC,8BAAA/D,EAAA,+EAE0BC,IAAM+D,IAAI,sDAFpC,gBAEW7D,EAFX,EAEWA,KACR0D,EAAU1D,EAAKpC,QAAO,SAACkG,EAAMhG,GAAP,4BAAmBgG,GAAnB,YAA4BhG,EAAIqB,UAAQ,KAC9DwE,GAAY,GAJf,gDAMGI,MAAM,SANT,wDAAD,KASC,IAGD,sBAAK7F,UAAU,gBAAf,UACE,qBAAKA,UAAU,4CAAf,SACE,2FAEF,qBAAKA,UAAU,mBAAf,SACGwB,EAAS,YACFyD,MAAM,IACVM,EAAO5C,KAAI,SAACT,EAAMgD,GAAP,OACT,cAAC,EAAD,aAEEjC,WAAY,SAACrD,GAAD,OAAS4E,EAAgB5E,IACrCwD,QAAS5B,GACLU,GAHCgD,YCwGNY,MA5Hf,WACE,MAA0B3G,IAAMgC,SAAS,IAAzC,mBAAOF,EAAP,KAAc8E,EAAd,KACA,EAAkC5G,IAAMgC,SAAS,IAAjD,mBAAO5B,EAAP,KAAkBC,EAAlB,KACA,EAAkCL,IAAMgC,SAAS,IAAjD,mBAAOkE,EAAP,KAAkBW,EAAlB,KACA,EAAsC7G,IAAMgC,SAAS,IAArD,mBAAOkD,EAAP,KAAoBC,EAApB,KACA,EAAoCnF,IAAMgC,UAAS,GAAnD,mBAAO8E,EAAP,KAAmBrF,EAAnB,KACA,EAAiCzB,IAAMgC,UAAS,GAAhD,mBAAOK,EAAP,KAAkBiE,EAAlB,KAEAtG,IAAMuG,WAAU,WAAM,4CACpB,oCAAA/D,EAAA,+EAEmES,QAAQ8D,IAAI,CACzEtE,IAAM+D,IAAI,oDACV/D,IAAM+D,IAAI,yDACV/D,IAAM+D,IAAI,uDALhB,mCAEWQ,EAFX,KAEyBC,EAFzB,KAE4CC,EAF5C,KAQIZ,GAAY,GACZjG,EAAa2G,EAAarE,MAC1BkE,EAAaI,EAAkBtE,MAC/BiE,EAASM,EAAcvE,MAX3B,kDAaI+D,MAAM,KAAMS,SAbhB,2DADoB,uBAAC,WAAD,wBAiBpBC,KACC,IAEH,IAAM9B,EAAW,uCAAG,WAAO7E,GAAP,SAAA+B,EAAA,sDAClB,IACMpC,EAAUiH,MAAK,SAACtE,GAAD,OAAUuE,OAAOvE,EAAKsB,YAAciD,OAAO7G,EAAImC,QAChEvC,GAAa,SAACoG,GAAD,OAAUA,EAAKd,QAAO,SAAC5C,GAAD,OAAUuE,OAAOvE,EAAKH,MAAQ0E,OAAO7G,EAAImC,UAC5EH,IAAMO,OAAN,2DAAiEvC,EAAImC,OAErEH,IAAMC,KAAK,mDAAoDjC,GAC/DJ,GAAa,SAACoG,GAAD,4BAAcA,GAAd,CAAoBhG,QAEnC,MAAO8G,GACPb,MAAM,UAAYa,GAVF,2CAAH,sDAcXlC,EAAe,uCAAG,WAAO5E,GAAP,iBAAA+B,EAAA,mEAEhB0D,EAAUmB,MAAK,SAACG,GAAD,OAAYF,OAAOE,EAAO5E,MAAQ0E,OAAO7G,EAAImC,OAF5C,gBAGlBH,IAAMO,OAAN,gEAAsEvC,EAAImC,KAC1EiE,GAAa,SAACJ,GAAD,OAAUA,EAAKd,QAAO,SAAC5C,GAAD,OAAUuE,OAAOvE,EAAKH,MAAQ0E,OAAO7G,EAAImC,UAJ1D,uCAMKH,IAAMC,KAC3B,wDACAjC,GARgB,gBAMVkC,EANU,EAMVA,KAIRkE,GAAa,SAACJ,GAAD,4BAAcA,GAAd,CAAoB9D,OAVf,0DAapB+D,MAAM,oKAbc,0DAAH,sDAkCrB,OACE,cAAC,EAAWe,SAAZ,CACEjC,MAAO,CACL1D,QACA1B,YACA8F,YACAhC,YAVc,SAACtB,GACnB,OAAOxC,EAAUsH,MAAK,SAACjH,GAAD,OAAS6G,OAAO7G,EAAI4D,YAAciD,OAAO1E,OAU3DnB,gBACApB,eACAiF,eARJ,SAUE,sBAAKzE,UAAU,gBAAf,UACE,cAAC,EAAD,CACEkB,OAAQ+E,EACRjF,SA/Ba,SAACe,GACpB,IACEH,IAAMO,OAAN,2DAAiEJ,IACjEvC,GAAa,SAACoG,GAAD,OAAUA,EAAKd,QAAO,SAAC5C,GAAD,OAAUuE,OAAOvE,EAAKH,MAAQ0E,OAAO1E,SACxE,MAAO2E,GACPb,MAAMa,EAAMJ,WA2BRrF,MAAO1B,EACPwB,QAAS,WACPH,GAAc,MAGlB,cAAC,EAAD,CACEL,YAAa,WACXK,GAAc,MAGlB,cAAC,IAAD,CAAOkG,KAAK,IAAIC,OAAK,EAArB,SACE,cAAC,EAAD,CACE9F,MAAOA,EACP1B,UAAWA,EACX8E,YAAaA,EACbC,eAAgBA,EAChBC,oBAvCkB,SAACyC,GAC3B1C,EAAe0C,EAAMC,OAAOtC,QAuCpBH,gBAAiBA,EACjBC,YAAaA,EACbjD,UAAWA,MAGf,cAAC,IAAD,CAAOsF,KAAK,aAAaC,OAAK,EAA9B,SACE,cAAC,EAAD,CAAWvC,gBAAiBA,MAE9B,cAAC,IAAD,CAAOsC,KAAK,UAAUC,OAAK,EAA3B,SACE,cAAC,EAAD,YCvHVG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.afa550f7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__2ZcaO\",\"overlayVisible\":\"Drawer_overlayVisible__rzyl6\",\"drawer\":\"Drawer_drawer__P2BNw\",\"items\":\"Drawer_items__1JyWj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__33x5P\",\"plus\":\"Card_plus__1v27t\",\"favorite\":\"Card_favorite__1ewbg\"};","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;\r\n","import AppContext from '../context';\r\nimport React from 'react';\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n  return { cartItems, setCartItems, totalPrice };\r\n};\r\n","import { Link } from 'react-router-dom';\r\nimport { useCart } from '../hooks/useCart';\r\nimport React from 'react';\r\n\r\nfunction Header(props) {\r\n  const { totalPrice } = useCart();\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n          <img width={40} height={40} src=\"img/logo.png\" alt=\"logo\" />\r\n          <div>\r\n            <h3 className=\"text-uppercase\">Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex\">\r\n        <li onClick={props.onClickCart} className=\"mr-30 cu-p\">\r\n          <img width={18} height={18} src=\"img/carz.svg\" alt=\"Корзина\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li className=\"mr-20 cu-p\">\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src=\"img/heart.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <Link to=\"/orders\">\r\n          <img width={18} height={18} src=\"img/user.svg\" alt=\"Пользователь\" />\r\n        </Link>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({ image, title, description }) => {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n  return (\r\n    <div class=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img class=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\" />\r\n      <h2>{title}</h2>\r\n      <p class=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} class=\"greenButton\">\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Info from '../Info';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = () => new Promise((resolve) => setTimeout(resolve, 1000));\r\n\r\nfunction Drawer({ onClose, onRemove, items = [], opened = false }) {\r\n  const { cartItems, setCartItems, totalPrice } = useCart();\r\n  const [isOrderCompleted, setIsOrderCompleted] = React.useState(false);\r\n  const [orderID, setOrderID] = React.useState(null);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post('https://61a4d9d34c822c0017041f37.mockapi.io/orders', {\r\n        items: cartItems,\r\n      });\r\n\r\n      setOrderID(data.id);\r\n      setIsOrderCompleted(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://61a4d9d34c822c0017041f37.mockapi.io/cart/' + item.id);\r\n        await delay();\r\n      }\r\n    } catch (error) {}\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"mb-30 d-flex justify-between\">\r\n          Корзина\r\n          <img onClick={onClose} className=\"removeBtn cu-p\" src=\"img/btn-remove.svg\" alt=\"Remove\" />\r\n        </h2>\r\n\r\n        {items.length > 0 ? (\r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className=\"items flex\">\r\n              {items.map((obj) => (\r\n                <div>\r\n                  <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                    <div\r\n                      style={{ backgroundImage: `url(${obj.imgUrl})` }}\r\n                      className=\"cartItemImg\"></div>\r\n                    <div className=\"mr-20 flex\">\r\n                      <p className=\"mb-5\">{obj.title}</p>\r\n                      <b>{obj.price}</b>\r\n                    </div>\r\n                    <img\r\n                      onClick={() => onRemove(obj.id)}\r\n                      className=\"removeBtn\"\r\n                      src=\"img/btn-remove.svg\"\r\n                      alt=\"Remove\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li className=\"d-flex\">\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб. </b>\r\n                </li>\r\n                <li className=\"d-flex\">\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{(totalPrice / 100) * 5} руб.</b>\r\n                </li>\r\n              </ul>\r\n              <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info\r\n            title={isOrderCompleted ? 'Заказ офрмлен' : 'Коризна пустая'}\r\n            description={\r\n              isOrderCompleted\r\n                ? `Ваш заказ #${orderID} скоро будет передан курьерской доставке`\r\n                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'\r\n            }\r\n            image={isOrderCompleted ? 'img/complete-order.jpg' : 'img/empty-cart.jpg'}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","import styles from './Card.module.scss';\r\n\r\nimport React from 'react';\r\nimport AppContext from '../../context';\r\n\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nfunction Card({\r\n  id,\r\n  onFavorite,\r\n  onPlus,\r\n  title,\r\n  imgUrl,\r\n  price,\r\n  favorited = false,\r\n  loading = false,\r\n}) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const obj = { id, parentId: id, title, imgUrl, price };\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  };\r\n\r\n  const onClickfavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={155}\r\n          height={250}\r\n          viewBox=\"0 0 150 187\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\">\r\n          <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"90\" />\r\n          <rect x=\"0\" y=\"99\" rx=\"4\" ry=\"4\" width=\"150\" height=\"15\" />\r\n          <rect x=\"0\" y=\"128\" rx=\"4\" ry=\"4\" width=\"90\" height=\"15\" />\r\n          <rect x=\"0\" y=\"157\" rx=\"4\" ry=\"4\" width=\"80\" height=\"24\" />\r\n          <rect x=\"112\" y=\"150\" rx=\"4\" ry=\"4\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onFavorite && (\r\n            <div className={styles.favorite} onClick={onClickfavorite}>\r\n              <img src={isFavorite ? 'img/liked.svg' : 'img/heart-unliked.svg'} alt=\"Like\" />\r\n            </div>\r\n          )}\r\n          <img width=\"100%\" height={135} src={imgUrl} alt=\"1\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена</span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {onPlus && (\r\n              <img\r\n                className={styles.plus}\r\n                onClick={onClickPlus}\r\n                src={isItemAdded(id) ? 'img/btn-cheked.svg' : 'img/btn-plus.svg'}\r\n                alt=\"Plus\"\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import Card from '../components/Card';\r\n\r\nimport React from 'react';\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  setSearchValue,\r\n  onChangeSearchInput,\r\n  onAddToFavorite,\r\n  onAddToCart,\r\n  isLoading,\r\n}) {\r\n  const renderItems = () => {\r\n    const filteredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n    );\r\n    return (isLoading ? [...Array(8)] : filteredItems).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n    ));\r\n  };\r\n  return (\r\n    <div className=\"content  p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кросовки'}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"img/search.svg\" alt=\"search\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue('')}\r\n              className=\"clear\"\r\n              src=\"img/btn-remove.svg\"\r\n              alt=\"Clear\"\r\n            />\r\n          )}\r\n          <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import AppContext from '../context';\r\nimport Card from '../components/Card';\r\nimport React from 'react';\r\n\r\nfunction Favorites({ onAddToFavorite }) {\r\n  const { favorites } = React.useContext(AppContext);\r\n  return (\r\n    <div className=\"content  p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card key={index} favorited={true} onFavorite={onAddToFavorite} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import Card from '../components/Card';\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport AppContext from '../context';\r\n\r\nfunction Orders() {\r\n  const [orders, setOrders] = React.useState([]);\r\n  const { onAddToFavorite } = React.useContext(AppContext);\r\n  const [isLoading, setIsLoding] = React.useState(true);\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get('https://61a4d9d34c822c0017041f37.mockapi.io/orders');\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoding(false);\r\n      } catch (error) {\r\n        alert('Error');\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"content  p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои Заказы</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">\r\n        {isLoading\r\n          ? [...Array(8)]\r\n          : orders.map((item, index) => (\r\n              <Card\r\n                key={index}\r\n                onFavorite={(obj) => onAddToFavorite(obj)}\r\n                loading={isLoading}\r\n                {...item}\r\n              />\r\n            ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import React from 'react';\nimport axios from 'axios';\nimport { Route } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Drawer from './components/Drawer';\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport AppContext from './context';\nimport Orders from './pages/Orders';\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoding] = React.useState(true);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n          axios.get('https://61a4d9d34c822c0017041f37.mockapi.io/cart'),\n          axios.get('https://61a4d9d34c822c0017041f37.mockapi.io/favorites'),\n          axios.get('https://61a4d9d34c822c0017041f37.mockapi.io/items'),\n        ]);\n\n        setIsLoding(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert(error.message);\n      }\n    }\n    fetchData();\n  }, []);\n\n  const onAddToCart = async (obj) => {\n    try {\n      if (cartItems.find((item) => Number(item.parentId) === Number(obj.id))) {\n        setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n        axios.delete(`https://61a4d9d34c822c0017041f37.mockapi.io/cart/${obj.id}`);\n      } else {\n        axios.post('https://61a4d9d34c822c0017041f37.mockapi.io/cart', obj);\n        setCartItems((prev) => [...prev, obj]);\n      }\n    } catch (error) {\n      alert('Error: ' + error);\n    }\n  };\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(`https://61a4d9d34c822c0017041f37.mockapi.io/favorites/${obj.id}`);\n        setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n      } else {\n        const { data } = await axios.post(\n          'https://61a4d9d34c822c0017041f37.mockapi.io/favorites',\n          obj,\n        );\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фовариты');\n    }\n  };\n\n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://61a4d9d34c822c0017041f37.mockapi.io/cart/${id}`);\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        items,\n        cartItems,\n        favorites,\n        isItemAdded,\n        setCartOpened,\n        setCartItems,\n        onAddToCart,\n      }}>\n      <div className=\"wrapper clear\">\n        <Drawer\n          opened={cartOpened}\n          onRemove={onRemoveItem}\n          items={cartItems}\n          onClose={() => {\n            setCartOpened(false);\n          }}\n        />\n        <Header\n          onClickCart={() => {\n            setCartOpened(true);\n          }}\n        />\n        <Route path=\"/\" exact>\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorite={onAddToFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n        <Route path=\"/favorites\" exact>\n          <Favorites onAddToFavorite={onAddToFavorite} />\n        </Route>\n        <Route path=\"/orders\" exact>\n          <Orders />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport './index.scss';\nimport 'macro-css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}